# Investigators

## Retrieve all Investigators but obtain only the uuid for each one of them.

query{
  allInvestigators{
    edges{
      node{
        uuid
      }
    }
  }
}


## Retrieve one investigator by the node uuid

query{
  allInvestigators(uuid:"51aa9c4e-3793-4d37-8528-354a714c9735"){
    edges{
      node{
        name,
        player,
        sex,
        residence,
        birthplace,
        age,
        occupation{
          title
        }
        ideologies,
        description,
        traits,
        injureScars,
        significantPeople,
        treasuredPossessions,
        encountersWithStrangeEntities
      }
    }
  }
}

## Search investigator by node id
> Notice the id we have for the elements is different to the id the node has
> this is because the node model wraps around our model given that we use
> relays, maybe in the future this will be different.

query{
  investigator(id: "SW52ZXN0aWdhdG9yTm9kZTox"){
        name,
        player,
        sex,
        residence,
        birthplace,
        age,
        occupation{
          title
        }
        ideologies,
        description,
        traits,
        injureScars,
        significantPeople,
        treasuredPossessions,
        encountersWithStrangeEntities
  }
}


## Create a investigator test
mutation{
  investigatorMutate(
    input: {
      uuid: "bbbbb", user:1, name: "Eliseo", player: "Pepito", sex: "M",
      residence: "Capital", birthplace: "Capital", age: 23,
      occupation: 7, ideologies: "prueba", description: "prueba",
      traits: "prueba", injureScars: "prueba", significantPeople:
      "prueba", treasuredPossessions: "prueba",
      encountersWithStrangeEntities: "prueba3",
      meaningfulLocations: "prueba", method: "CREATE"
    }){
    investigator{
        name,
        player,
        sex,
        residence,
        birthplace,
        age,
        occupation{
          title
        }
        ideologies,
        description,
        traits,
        meaningfulLocations,
        injureScars,
        significantPeople,
        treasuredPossessions,
        encountersWithStrangeEntities
      }
  }
}


## Edit investigator
> In this scenario we need the uuid to find the investigator we want to update
> and we pass the new title that we want to have at our investigator

mutation{
  investigatorMutate(
    input: {
      uuid: "51aa9c4e-3793-4d37-8528-354a714c9735", user:1, name: "Eliseo", player: "Pepito", sex: "M",
      residence: "Capital", birthplace: "Capital", age: 23,
      occupation: 7, ideologies: "prueba", description: "prueba",
      traits: "prueba", injureScars: "prueba", significantPeople:
      "prueba", treasuredPossessions: "prueba",
      encountersWithStrangeEntities: "prueba156",
      meaningfulLocations: "prueba", method: "UPDATE"
    }){
    investigator{
      	uuid,
        name,
        player,
        sex,
        residence,
        birthplace,
        age,
        occupation{
          title
        }
        ideologies,
        description,
        traits,
        meaningfulLocations,
        injureScars,
        significantPeople,
        treasuredPossessions,
        encountersWithStrangeEntities
      }
  }
}



## Delete a investigator
> In this scenario we pass the method which is DEL that stands for DELETE
> we need to pass the uuid as well so the investigator can be find and later deleted.

mutation{
  investigatorMutate(
    input: {
      uuid: "51aa9c4e-3793-4d37-8528-354a714c9735", method: "DELETE"
    }){
    investigator{
      	uuid,
        name,
        player,
        sex,
        residence,
        birthplace,
        age,
        occupation{
          title
        }
        ideologies,
        description,
        traits,
        meaningfulLocations,
        injureScars,
        significantPeople,
        treasuredPossessions,
        encountersWithStrangeEntities
      }
  }
}
